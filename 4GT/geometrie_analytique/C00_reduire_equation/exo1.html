<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Titre dynamique : √† modifier sur chaque page -->
  <title>Let's go Math !</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&family=Dancing+Script:wght@400..700&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

  <!-- CSS principal -->
<link rel="stylesheet" href="../style.css">
<link rel="stylesheet" href="../exercices.css">

  <!-- Bootstrap (optionnel) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

  <!-- MathJax (OBLIGATOIRE pour les exos) -->
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>


  
<body>

  <!-- Navbar r√©utilisable -->
  <nav class="navbar">
    <ul class="nav-liste">
      <li><a href="../index.html">Accueil</a></li>
      <li><a href="../index.html#dia2">4GT</a></li>
      <li><a href="../index.html#dia3">5GT 6h</a></li>
      <li><a href="../index.html#dia4">6GT 6h</a></li>
    </ul>
  </nav>

  <!-- Contenu sp√©cifique √† chaque page -->



<div class="exo-container">

  <h1>Exercice</h1>

  <div class="equation-box" id="equation"></div>

  <input type="text" id="reponse" placeholder="Ex : y = -2x - 3">

  <button onclick="corriger()">Corriger</button>
  <button onclick="genererEquation()">Nouvelle √©quation</button>

  <p id="feedback" class="feedback"></p>

  <div class="exo-links">
    <a href="../4GT_geo_analytique.html">‚¨Ö Retour au menu</a>
  </div>

</div>



<!-- ================= JAVASCRIPT ================= -->
<script>
let a, b, c;
let coeffA, coeffB; // coefficients simplifi√©s

// PGCD (algorithme d‚ÄôEuclide)
function pgcd(x, y) {
  while (y !== 0) {
    let temp = y;
    y = x % y;
    x = temp;
  }
  return Math.abs(x);
}

// G√©n√©ration de l'√©quation
function genererEquation() {
  a = Math.floor(Math.random() * 20) + 1;
  b = Math.floor(Math.random() * 20) + 1;
  c = Math.floor(Math.random() * 20) + 1;

  // Simplification des fractions
  let pgcd1 = pgcd(a, b);
  let pgcd2 = pgcd(c, b);

  coeffA = { num: -a / pgcd1, den: b / pgcd1 };
  coeffB = { num: -c / pgcd2, den: b / pgcd2 };

  document.getElementById("equation").innerHTML =
    `Donne l'√©quation r√©duite de la droite \\(${a}x + ${b}y + ${c} = 0\\).`;

  document.getElementById("reponse").value = "";
  document.getElementById("feedback").innerHTML = "";

  MathJax.typeset();
}

// Analyse de la r√©ponse de l‚Äô√©l√®ve
function corriger() {
  let r = document.getElementById("reponse").value
    .toLowerCase()
    .replace(/\s/g, "")
    .replace("y=", "");

  const feedback = document.getElementById("feedback");

  // Formes attendues
  const formeSimplifiee =
    `${coeffA.num}/${coeffA.den}x${coeffB.num < 0 ? "" : "+"}${coeffB.num}/${coeffB.den}`;

  const formeNonSimplifiee =
    `${-a}/${b}x${-c < 0 ? "" : "+"}${-c}/${b}`;

  if (r === formeSimplifiee) {
    feedback.innerHTML = "‚úÖ Correct !";
    feedback.style.color = "green";
  }
  else if (r === formeNonSimplifiee) {
    feedback.innerHTML =
      "üü† Presque‚Ä¶<br>La r√©ponse est correcte mais les fractions doivent √™tre simplifi√©es.";
    feedback.style.color = "orange";
  }
  else {
    feedback.innerHTML =
      `‚ùå Incorrect.<br>
       On isole y :<br>
       \\(${a}x + ${b}y + ${c} = 0\\)<br>
       \\(y = -\\frac{${a}}{${b}}x - \\frac{${c}}{${b}}\\)<br>
       R√©ponse simplifi√©e : \\(y = \\frac{${coeffA.num}}{${coeffA.den}}x + \\frac{${coeffB.num}}{${coeffB.den}}\\)`;
    feedback.style.color = "red";
    MathJax.typeset();
  }
}

// G√©n√©ration automatique au chargement
genererEquation();
</script>


</body>
</html>


